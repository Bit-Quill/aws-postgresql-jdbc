<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>V3PGReplicationStream (PostgreSQL JDBC postgresql API version 42.3.0-SNAPSHOT)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="V3PGReplicationStream (PostgreSQL JDBC postgresql API version 42.3.0-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>PostgreSQL JDBC</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/postgresql/core/v3/replication/V3ReplicationProtocol.html" title="class in org.postgresql.core.v3.replication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/postgresql/core/v3/replication/V3PGReplicationStream.html" target="_top">Frames</a></li>
<li><a href="V3PGReplicationStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.postgresql.core.v3.replication</div>
<h2 title="Class V3PGReplicationStream" class="title">Class V3PGReplicationStream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.postgresql.core.v3.replication.V3PGReplicationStream</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">V3PGReplicationStream</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#POSTGRES_EPOCH_2000_01_01">POSTGRES_EPOCH_2000_01_01</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#V3PGReplicationStream-org.postgresql.copy.CopyDual-org.postgresql.replication.LogSequenceNumber-long-org.postgresql.replication.ReplicationType-">V3PGReplicationStream</a></span>(<a href="../../../../../org/postgresql/copy/CopyDual.html" title="interface in org.postgresql.copy">CopyDual</a>&nbsp;copyDual,
                     <a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;startLSN,
                     long&nbsp;updateIntervalMs,
                     <a href="../../../../../org/postgresql/replication/ReplicationType.html" title="enum in org.postgresql.replication">ReplicationType</a>&nbsp;replicationType)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#close--">close</a></span>()</code>
<div class="block">Stop replication changes from server and free resources.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#forceUpdateStatus--">forceUpdateStatus</a></span>()</code>
<div class="block">Force send last received, flushed and applied LSN status to backend.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#getLastAppliedLSN--">getLastAppliedLSN</a></span>()</code>
<div class="block">Last applied lsn sent in update message to backed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#getLastFlushedLSN--">getLastFlushedLSN</a></span>()</code>
<div class="block">Last flushed LSN sent in update message to backend.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#getLastReceiveLSN--">getLastReceiveLSN</a></span>()</code>
<div class="block">Parameter updates by execute <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--"><code>PGReplicationStream.read()</code></a> method.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#isClosed--">isClosed</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>@Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#read--">read</a></span>()</code>
<div class="block">Read next wal record from backend.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>@Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#readPending--">readPending</a></span>()</code>
<div class="block">Read next WAL record from backend.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#setAppliedLSN-org.postgresql.replication.LogSequenceNumber-">setAppliedLSN</a></span>(<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;applied)</code>
<div class="block">Inform backend which LSN has been applied on standby.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/postgresql/core/v3/replication/V3PGReplicationStream.html#setFlushedLSN-org.postgresql.replication.LogSequenceNumber-">setFlushedLSN</a></span>(<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;flushed)</code>
<div class="block">Set flushed LSN.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="POSTGRES_EPOCH_2000_01_01">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>POSTGRES_EPOCH_2000_01_01</h4>
<pre>public static final&nbsp;long POSTGRES_EPOCH_2000_01_01</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.postgresql.core.v3.replication.V3PGReplicationStream.POSTGRES_EPOCH_2000_01_01">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="V3PGReplicationStream-org.postgresql.copy.CopyDual-org.postgresql.replication.LogSequenceNumber-long-org.postgresql.replication.ReplicationType-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>V3PGReplicationStream</h4>
<pre>public&nbsp;V3PGReplicationStream(<a href="../../../../../org/postgresql/copy/CopyDual.html" title="interface in org.postgresql.copy">CopyDual</a>&nbsp;copyDual,
                             <a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;startLSN,
                             long&nbsp;updateIntervalMs,
                             <a href="../../../../../org/postgresql/replication/ReplicationType.html" title="enum in org.postgresql.replication">ReplicationType</a>&nbsp;replicationType)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>copyDual</code> - bidirectional copy protocol</dd>
<dd><code>startLSN</code> - the position in the WAL that we want to initiate replication from
                         usually the currentLSN returned by calling pg_current_wal_lsn()for v10
                         above or pg_current_xlog_location() depending on the version of the
                         server</dd>
<dd><code>updateIntervalMs</code> - the number of millisecond between status packets sent back to the
                         server.  A value of zero disables the periodic status updates
                         completely, although an update will still be sent when requested by the
                         server, to avoid timeout disconnect.</dd>
<dd><code>replicationType</code> - LOGICAL or PHYSICAL</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="read--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;@Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;read()
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Read next wal record from backend. It method can be block until new message will not get
 from server.</p>

 <p>A single WAL record is never split across two XLogData messages. When a WAL record crosses a
 WAL page boundary, and is therefore already split using continuation records, it can be split
 at the page boundary. In other words, the first main WAL record and its continuation records
 can be sent in different XLogData messages.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>not null byte array received by replication protocol, return ByteBuffer wrap around
     received byte array with use offset, so, use <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true#array--" title="class or interface in java.nio"><code>ByteBuffer.array()</code></a> carefully</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - when some internal exception occurs during read from stream</dd>
</dl>
</li>
</ul>
<a name="readPending--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readPending</h4>
<pre>public&nbsp;@Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;readPending()
                                 throws <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#readPending--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Read next WAL record from backend. This method does not block and in contrast to <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--"><code>PGReplicationStream.read()</code></a>. If message from backend absent return null. It allow periodically
 check message in stream and if they absent sleep some time, but it time should be less than
 <a href="../../../../../org/postgresql/replication/fluent/CommonOptions.html#getStatusInterval--"><code>CommonOptions.getStatusInterval()</code></a> to avoid disconnect from the server.</p>

 <p>A single WAL record is never split across two XLogData messages. When a WAL record crosses a
 WAL page boundary, and is therefore already split using continuation records, it can be split
 at the page boundary. In other words, the first main WAL record and its continuation records
 can be sent in different XLogData messages.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#readPending--">readPending</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte array received by replication protocol or NULL if pending message from server
     absent. Returns ByteBuffer wrap around received byte array with use offset, so, use <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true#array--" title="class or interface in java.nio"><code>ByteBuffer.array()</code></a> carefully.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - when some internal exception occurs during read from stream</dd>
</dl>
</li>
</ul>
<a name="getLastReceiveLSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastReceiveLSN</h4>
<pre>public&nbsp;<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;getLastReceiveLSN()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastReceiveLSN--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Parameter updates by execute <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--"><code>PGReplicationStream.read()</code></a> method.</p>

 <p>It is safe to call this method in a thread different than the main thread. However, usually this
 method is called in the main thread after a successful <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--"><code>PGReplicationStream.read()</code></a> or
 <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#readPending--"><code>PGReplicationStream.readPending()</code></a>, to get the LSN corresponding to the received record.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastReceiveLSN--">getLastReceiveLSN</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>NOT NULL LSN position that was receive last time via <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#read--"><code>PGReplicationStream.read()</code></a>
     method</dd>
</dl>
</li>
</ul>
<a name="getLastFlushedLSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastFlushedLSN</h4>
<pre>public&nbsp;<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;getLastFlushedLSN()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastFlushedLSN--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Last flushed LSN sent in update message to backend. Parameter updates only via <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setFlushedLSN-org.postgresql.replication.LogSequenceNumber-"><code>PGReplicationStream.setFlushedLSN(LogSequenceNumber)</code></a></p>

 <p>It is safe to call this method in a thread different than the main thread.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastFlushedLSN--">getLastFlushedLSN</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>NOT NULL location of the last WAL flushed to disk in the standby.</dd>
</dl>
</li>
</ul>
<a name="getLastAppliedLSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastAppliedLSN</h4>
<pre>public&nbsp;<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;getLastAppliedLSN()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastAppliedLSN--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Last applied lsn sent in update message to backed. Parameter updates only via <a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setAppliedLSN-org.postgresql.replication.LogSequenceNumber-"><code>PGReplicationStream.setAppliedLSN(LogSequenceNumber)</code></a></p>

 <p>It is safe to call this method in a thread different than the main thread.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#getLastAppliedLSN--">getLastAppliedLSN</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>not null location of the last WAL applied in the standby.</dd>
</dl>
</li>
</ul>
<a name="setFlushedLSN-org.postgresql.replication.LogSequenceNumber-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlushedLSN</h4>
<pre>public&nbsp;void&nbsp;setFlushedLSN(<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;flushed)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setFlushedLSN-org.postgresql.replication.LogSequenceNumber-">PGReplicationStream</a></code></span></div>
<div class="block"><p>Set flushed LSN. This parameter will be sent to backend on next update status iteration. Flushed
 LSN position help backend define which WAL can be recycled.</p>

 <p>It is safe to call this method in a thread different than the main thread. The updated value
 will be sent to the backend in the next status update run.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setFlushedLSN-org.postgresql.replication.LogSequenceNumber-">setFlushedLSN</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flushed</code> - NOT NULL location of the last WAL flushed to disk in the standby.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#forceUpdateStatus--"><code>PGReplicationStream.forceUpdateStatus()</code></a></dd>
</dl>
</li>
</ul>
<a name="setAppliedLSN-org.postgresql.replication.LogSequenceNumber-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAppliedLSN</h4>
<pre>public&nbsp;void&nbsp;setAppliedLSN(<a href="../../../../../org/postgresql/replication/LogSequenceNumber.html" title="class in org.postgresql.replication">LogSequenceNumber</a>&nbsp;applied)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setAppliedLSN-org.postgresql.replication.LogSequenceNumber-">PGReplicationStream</a></code></span></div>
<div class="block"><p>Inform backend which LSN has been applied on standby.
 Feedback will send to backend on next update status iteration.</p>

 <p>It is safe to call this method in a thread different than the main thread. The updated value
 will be sent to the backend in the next status update run.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#setAppliedLSN-org.postgresql.replication.LogSequenceNumber-">setAppliedLSN</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>applied</code> - NOT NULL location of the last WAL applied in the standby.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#forceUpdateStatus--"><code>PGReplicationStream.forceUpdateStatus()</code></a></dd>
</dl>
</li>
</ul>
<a name="forceUpdateStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceUpdateStatus</h4>
<pre>public&nbsp;void&nbsp;forceUpdateStatus()
                       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#forceUpdateStatus--">PGReplicationStream</a></code></span></div>
<div class="block">Force send last received, flushed and applied LSN status to backend. You cannot send LSN status
 explicitly because <a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication"><code>PGReplicationStream</code></a> sends the status to backend periodically by
 configured interval via <a href="../../../../../org/postgresql/replication/fluent/CommonOptions.html#getStatusInterval--"><code>CommonOptions.getStatusInterval()</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#forceUpdateStatus--">forceUpdateStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - when some internal exception occurs during read from stream</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/postgresql/replication/fluent/CommonOptions.html#getStatusInterval--"><code>CommonOptions.getStatusInterval()</code></a></dd>
</dl>
</li>
</ul>
<a name="isClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre>public&nbsp;boolean&nbsp;isClosed()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#isClosed--">isClosed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if replication stream was already close, otherwise return <code>false</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#close--">PGReplicationStream</a></code></span></div>
<div class="block"><p>Stop replication changes from server and free resources. After that connection can be reuse
 to another queries. Also after close current stream they cannot be used anymore.</p>

 <p><b>Note:</b> This method can spend much time for logical replication stream on postgresql
 version 9.6 and lower, because postgresql have bug - during decode big transaction to logical
 form and during wait new changes postgresql ignore messages from client. As workaround you can
 close replication connection instead of close replication stream. For more information about it
 problem see mailing list thread <a href="http://www.postgresql.org/message-id/CAFgjRd3hdYOa33m69TbeOfNNer2BZbwa8FFjt2V5VFzTBvUU3w@mail.gmail.com">
 Stopping logical replication protocol</a></p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/postgresql/replication/PGReplicationStream.html" title="interface in org.postgresql.replication">PGReplicationStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - when some internal exception occurs during end streaming</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>PostgreSQL JDBC</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/postgresql/core/v3/replication/V3ReplicationProtocol.html" title="class in org.postgresql.core.v3.replication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/postgresql/core/v3/replication/V3PGReplicationStream.html" target="_top">Frames</a></li>
<li><a href="V3PGReplicationStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 1997-2021 PostgreSQL Global Development Group. All Rights Reserved.</small></p>
</body>
</html>
